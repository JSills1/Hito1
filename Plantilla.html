<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joaquin Sills">

<title>Plantilla Proyecto G15</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Plantilla_files/libs/clipboard/clipboard.min.js"></script>
<script src="Plantilla_files/libs/quarto-html/quarto.js"></script>
<script src="Plantilla_files/libs/quarto-html/popper.min.js"></script>
<script src="Plantilla_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Plantilla_files/libs/quarto-html/anchor.min.js"></script>
<link href="Plantilla_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Plantilla_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Plantilla_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Plantilla_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Plantilla_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Plantilla Proyecto G15</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joaquin Sills </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="descripción-activo-y-contexto-hito-1" class="level2">
<h2 class="anchored" data-anchor-id="descripción-activo-y-contexto-hito-1">Descripción Activo y Contexto (Hito 1)</h2>
<p>Cencosud posee y opera varios centros comerciales en América Latina como parte de su cartera de activos inmobiliarios. Dichos centros comerciales son destinados principalmente a compras, entretenimiento, y que poseen gran variedad de tiendas minoristas, restaurantes, cines, etc.</p>
<p>Un ejemplo de esto es el Costanera Center en Santiago. Este es uno de los centros comerciales más grandes y emblemáticos del país, propiedad de Cencosud. Además de tiendas, el Costanera Center incluye un rascacielos llamado “Gran Torre Santiago,” que es uno de los edificios más altos de América Latina y contiene oficinas y un mirador panorámico. Este tipo de activo inmobiliario no solo genera ingresos a través del alquiler de espacio comercial a tiendas y restaurantes, sino que también aumenta el valor de la propiedad a medida que se desarrolla y atrae a más visitantes.</p>
<section id="definición" class="level3">
<h3 class="anchored" data-anchor-id="definición">Definición</h3>
<p>Un activo inmobiliario son propiedades físicas como estructuras y/o terrenos, y que tienen un valor económico además de utilizarse principalmente para generar ingresos en la mayoría de los negocios, ya sea a través de arriendos, venta u otros fines comerciales. Los activos inmobiliarios son sumamente importantes en el mundo de las inversiones, en este caso se propone estudiar los activos inmobiliarios pertenecientes a la empresa Cencosud como acciones.</p>
<p>Las acciones también son un tipo de activo, son un derecho de propiedad y control de un determinado porcentaje del total de la empresa de Cencosud. Corresponde a un instrumento de inversión de capitalización y su renta es variable, es decir, depende de los resultados de Cencosud en sus negocios. Además, los accionistas pueden recibir los dividendos que distribuya el emisor y en ocasiones, acciones liberadas de pago. De acuerdo al derecho que otorgan, las acciones pueden ser ordinarias o preferentes, lo que debe constar en los estatutos sociales y en los títulos respectivos.</p>
<p>La rentabilidad de una acción de Cencosud es lo que más le importa a un accionista, se puede definir como la relación entre el beneficio económico que proporciona la acción (precio y dividendos) y el capital invertido del accionista en un periodo de tiempo; es decir, los flujos obtenidos por tener la acción y el flujo de capital invertido en la adquisición de la acción.</p>
<p>El activo CENCOSUD tiene un valor promedio para el intervalo igual a 1467</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Plantilla_files/figure-html/CENCOSUDline-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="Plantilla_files/figure-html/CENCOSUDcandle-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="motivación" class="level3">
<h3 class="anchored" data-anchor-id="motivación">Motivación</h3>
<p>Mi principal motivación para estudiar activos inmobiliarios de Cencosud es que este destaca en posicionarse fuertemente en el mercado minorista y por operar de manera internacional en america latina.</p>
<p>La empresa Cencosud es conocida por su buen desempeño en innovación y excelencia operativa, lo que me genera un gran interés en aprender más de esta empresa e industria bajo la perspectiva financiera.</p>
<p>Me es sumamente importante profundizar en el análisis y la comprensión de los activos de Cencosud, ya que esto me permitirá adquirir conocimientos y habilidades valiosas en la gestión financiera. Además, considero que estudiar un activo de esta empresa me brindará una visión integral de cómo operan las grandes corporaciones en América Latina en la industria inmobiliaria, lo que será beneficioso para mi desarrollo profesional a largo plazo.</p>
</section>
<section id="contexto" class="level3">
<h3 class="anchored" data-anchor-id="contexto">Contexto</h3>
<p>Cencosud S.A. es un consorcio empresarial multinacional chileno que opera en diversos países de América como Chile, Argentina, Brasil y Perú, entre otros, principalmente en el rubro minorista. Fue fundado y es controlado por el empresario alemán nacionalizado chileno Horst Paulmann.</p>
<p>Sus principales variables/activos se centran en el comercio de tiendas minoristas, ventas/ingresos y deuda/financiamiento. Cencosud opera una gran variedad de tiendas minoristas en distintas categorías, dentro de las que más destacan están los centros comerciales.</p>
<p>Las ventas/ingresos como estudio, es una variable fundamental para evaluar el desempeño financiero que presenta en este caso Cencosud, mientras que en temas de deuda y financiamientos, estas variables nos pueden ayudar a identificar la salud financiera en la que se encuentra la empresa.</p>
<p>Cabe mencionar que existen factores externos a la empresa que pueden perjudicar radicalmente sus rendimientos, como por ejemplo la zona geográfica, la demanda de mercado, ofertas de mercado, economia nacional, tasas de interés, política (nuevas leyes), entre otros.</p>
<p>La estructura de la sociedad en términos de Patrimonio, este se divide en un total de 2.863.129.447 acciones de serie única, cuya composición porcentual por categoría de participante es:</p>
<p><img src="Fotos/grafico%20circular.png" class="img-fluid"> En cuanto a la variabilidad de las acciones en los últimos meses:</p>
<p><img src="Fotos/Rendimiento%20mensual%20(BC).png" class="img-fluid"></p>
<p>En este gráfico obtenido del Banco Central, se puede ver las variaciones del rendimiento de las acciones de Cencosud en periodo mensual de los últimos 6 meses, en el cual se puede observar una tendencia ascendente en cuanto a los porcentajes de rentabilidad, con lo que nos sirve para pronosticar hacia el futuro los proximos rendimientos.</p>
<p><img src="Fotos/Resumen%20rentabilidad.png" class="img-fluid"></p>
<p>En esta imagen obtenida del Banco Central, se puede ver la variación en rendimientos porcentuales del año actual con respecto al anterior, se observa que ha habido un aumento considerable con respecto al 2022, por lo que se ve un futuro prometedor en cuanto a rendimientos se refiere.</p>
<p>Deuda:</p>
<p>Bonos:</p>
<p>El principal instrumento de deuda utilizado por empresas es bono, corresponden a instrumentos de deuda emitidos por sociedades anónimas y/o otro tipo de entidades como alguna institución pública, un Estado, gobierno, municipio, etc., con el objetivo de obtener recursos directamente de&nbsp;los mercados de valores. Son emitidos para financiar proyectos de inversión de largo plazo, o para cumplir compromisos financieros del emisor como es el refinanciamiento de pasivos.</p>
<p>En el caso de Cencosud, ha emitido bonos desde el 2011, tanto en pesos chilenos como en uf y usd, de los cuales solo 12 siguen en vigencia:</p>
<p><img src="Fotos/Bonos.jpeg" class="img-fluid"></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="Plantilla_files/figure-html/context-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="caracterización-deuda-aplicación-cap.-15" class="level4">
<h4 class="anchored" data-anchor-id="caracterización-deuda-aplicación-cap.-15">Caracterización deuda (Aplicación cap. 15)</h4>
<p>La deuda vigente de Cencosud está basada en su mayor parte por 12 bonos distintos vigentes, cada uno con su tipo de cambio, monto, tasa cupón y duración en años.</p>
<p>Partes de un bono:</p>
<p>Monto:&nbsp;es el monto que se indica en el bono. Es decir, es el valor nominal del bono.</p>
<p>El cupón:&nbsp;representa el interés que paga el bono.</p>
<p>El plazo (duración en años):&nbsp;representa el periodo de vigencia del bono.</p>
<p>Los bonos pueden dividirse en:</p>
<p>Bonos a tasa fija:&nbsp;la tasa de interés está prefijada y es igual durante toda la vida del bono.</p>
<p>Bonos con tasa variable (floating rate):&nbsp;la tasa de interés que se paga en cada cupón es distinta ya que está en función a una tasa de interés de referencia como puede ser la Libor. También pueden ser bonos indexados con relación a un activo financiero determinado.</p>
<p>Bonos cupón cero:&nbsp;no existen pagos periódicos, por lo que el capital se paga al vencimiento y no pagan intereses. Se venden con una tasa de descuento.</p>
<p>Por lo tanto, el interés en invertir en un bono, dependerá del monto de este, de su tasa cupón y de su duración en años, además de estos, según los intereses del inversionista, de tasa fija, variable o incluso cupón cero</p>
<p>Ejemplo de bonos Cencosud:</p>
<p><img src="Fotos/Bonos%202.png" class="img-fluid"></p>
<p>Un ejemplo de este último es el bono BJUMB-B1, fecha de emisión 01-09-2001, cuyo monto fue de UF 2.000.000, fecha de vencimiento 01-09-2026, tasa cupón de 6.5% tipo Francés</p>
<p>Por otro lado, Cencosud ha emitido únicamente acciones en forma de acciones comunes, por lo que no cuenta con acciones preferentes. Definiendo estos 2 tipos de acciones:</p>
<p>Acciones Comunes: corresponden al tipo de acciones a que a los dueños se les entrega una serie de derechos y son definidas en un plazo indefinido, es decir, que viene dado por la duración de la sociedad.</p>
<p>Acciones Preferentes: al igual que la anterior es un tipo de contrato, pero se otorgan privilegios o preferencias respecto a los dividendos, elección de directores u otras materias que estime la empresa. Sin embargo, deben ser de plazo definido.</p>
<p>Una componente fundamental de las acciones son los Dividendos, una característica distintiva de las corporaciones es que emiten acciones sobre las que están autorizadas por ley a pagar dividendos a sus accionistas. Los dividendos pagados a los accionistas representan un rendimiento del capital directa o indirectamente aportado a la corporación por los accionistas. El pago de dividendos se realiza a criterio del consejo de administración.</p>
<p>Por lo tanto, un accionista recibirá en intervalos acordados con la empresa emisora, dividendos que serán percibidos por el accionista como ingresos a raiz del buen rendimiento de la empresa en proporción al porcentaje que posean los accionistas de esta empresa, por lo que es lógico pensar que alguien se convertirá en accionista de Cencosud porque confía en proyecciones y en que Cencosud rentará en los proximos periodos.</p>
</section>
<section id="caracterización-de-emisiones-históricas-aplicación-cap.-20" class="level4">
<h4 class="anchored" data-anchor-id="caracterización-de-emisiones-históricas-aplicación-cap.-20">Caracterización de emisiones históricas (Aplicación cap. 20)</h4>
<p>La emisión es cuando las empresas desean recaudar nuevos fondos y lo hacen mediante la emisión pública o privada de valores conocida como OPI (oferta inicial al publico), con el objetivo de recaudar y financiar proyectos o gastos operacionales.</p>
<p>El proceso de emisión de Cencosud consta de 10 pasos:</p>
<p>- Decisión Estratégica: La empresa Cencosud, debe tomar la decisión de emitir acciones o valores para recaudar fondos para financiar la expansión, reducir la deuda existente, invertir en nuevos proyectos, entre otros.</p>
<p>- Regulación y Cumplimiento: La empresa debe cumplir con todas las regulaciones y requisitos legales relacionados con la emisión de valores.</p>
<p>- Selección de Asesores: Las empresas a menudo eligen asesores financieros, abogados y bancos de inversión para ayudar en el proceso de emisión.</p>
<p>- Valoración de la Empresa: Se realiza una valoración de la empresa para determinar el precio al que se emitirán las acciones.</p>
<p>- Documentación Legal: Se prepara la documentación legal necesaria para la emisión</p>
<p>- Anuncio de la Oferta Pública: La empresa anuncia la oferta pública, (OPI) &nbsp;especificando la cantidad de acciones que se emitirán y el precio de cada acción.</p>
<p>- Período de Suscripción</p>
<p>- Asignación de Acciones</p>
<p>- Cotización en el Mercado: Las acciones emitidas se cotizan en una bolsa de valores, lo que permite a los inversores comprar y vender acciones en el mercado secundario.</p>
<p>- Seguimiento Posterior a la Emisión: La empresa debe cumplir con los requisitos de divulgación continua y proporcionar informes financieros regulares a los inversores y a las autoridades reguladoras.</p>
<p>Por otra parte, el procedimiento de emisión descrito en el capitulo 20 consta de 5 pasos:</p>
<p>El procedimiento básico de una nueva emisión</p>
<p>1. El primer paso de la administración en el proceso de emisión de cualquier título al público es obtener la aprobación del consejo de administración.</p>
<p>2. En seguida, la empresa debe preparar una declaración de registro y presentarla ante la SEC. Esta declaración contiene mucha información financiera, que incluye, entre otras cosas, el historial financiero, los detalles sobre las operaciones actuales de la empresa, el financiamiento propuesto y los planes para el futuro. Fácilmente puede llegar a tener 50 o más páginas. El documento se requiere para todas las emisiones públicas de títulos, con dos excepciones principales:</p>
<p>a) Préstamos que vencen dentro de nueve meses.</p>
<p>b) Emisiones que implican menos de 5 millones de dólares.</p>
<p>La segunda excepción se conoce como la exención de emisiones pequeñas. Las emisiones inferiores a 5 millones de dólares se rigen por el Reglamento A, que requiere sólo un formato abreviado de registro de la oferta en lugar de una declaración completa. Para que el Reglamento A sea aplicable, las personas con acceso a información privilegiada no pueden vender más de 1.5 millones de dólares en títulos.</p>
<p>3. La SEC estudia la declaración de registro durante un periodo de espera. Así, la empresa puede distribuir copias de un prospecto preliminar. Éste se conoce como arenque rojo (red herring) por las letras rojas impresas en la portada. Un prospecto contiene buena parte de la información incluida en la declaración de registro y la empresa lo entrega a los posibles inversionistas, pero no puede vender los títulos durante el periodo de espera. Sin embargo, se pueden presentar ofertas verbales. El registro de la emisión entra en vigor 20 días después de la presentación de la declaración, a menos que la SEC envíe una carta de observaciones con sugerencias de cambios. Una vez realizados los cambios, se inicia de nuevo el periodo de espera de 20 días.</p>
<p>4. Inicialmente, la declaración de registro no contiene el precio de la nueva emisión. En la fecha cuando entra en vigor el registro de la emisión se determina el precio de los títulos e inicia la campaña de venta con todas las de la ley. Un prospecto definitivo debe acompañar la entrega de los títulos o la confirmación de la venta, lo que ocurra primero.</p>
<p>5. El anuncio publicitario sobre una nueva emisión (conocido en el medio como lápida) se utiliza durante y después del periodo de espera.</p>
<p><img src="Fotos/Captura%20de%20pantalla%202023-09-28%20211549.png" class="img-fluid"></p>
<p>Fuente: Ross Westerfield Jaffe, Finanzas Corporativas, 9° edición</p>
<p>Entre los 2 procesos, se puede decir que el primero es mcuho más detallado, e incluye pasos muy personales o particulares para cada empresa como por ejemplo la decisión estratégica y la selección de asesores., por lo que es un set de pasos más personalizados.</p>
</section>
<section id="relación-con-activos-derivados" class="level4">
<h4 class="anchored" data-anchor-id="relación-con-activos-derivados">Relación con activos derivados</h4>
<p>Un derivado es un contrato en función de otro activo, en relación a esto, podemos definir un warrant, como derivado de un activo subyacente que será en este caso la acción común.</p>
<p>El valor de un warrant será directamente proporcional al valor que tendrá la acción común y la altura del precio del warrant por encima del limite inferior dependerá de: varianza en el rendimiento de acciones, tiempo hasta su vencimiento, tasa de interés libre de riesgo, precio de la accion, precio del ejercicio.</p>
<p>Además se puede valorizar el warrant mediante el modelo de Black and Scholes:</p>
<p><img src="Fotos/Ganancia%20Warrant.png" class="img-fluid"></p>
<p>Además, cabe mencionar que la tasa de interés sirve para descontar flujos de efectivo futuros y para calcular la volatilidad implícita.</p>
<p>La utilización tanto de warrants como de opciones de compra, pueden lograr fomentar la activación del mercado secundario de venta de activos e incluso atraer a nuevos inversionistas.</p>
<p>Nuevamente, un ejemplo de esto, es el precio de las acciones en un lapso de 1 año obtenido del Banco Central:</p>
<p><img src="Fotos/1Año.png" class="img-fluid"></p>
<p>Como los precios de las acciones comunes son directamente proporcionales a los de warrants, se puede ver que el precio de los warrants ha ido incrementando a lo largo de este último año junto con los de las acciones comunes.</p>
</section>
</section>
<section id="reporte-grupal" class="level3">
<h3 class="anchored" data-anchor-id="reporte-grupal">Reporte grupal</h3>
<p>Normalmente, los inversionistas no invierten todo su dinero en un solo<br>
instrumento, sino que en más de uno, lo que se conoce como portafolio de inversión. ¿Por qué? Porque al diversificar o invertir en más de un instrumento se busca reducir el riesgo de la inversión total.</p>
<p>Para ello, se ha propuesto nuestro portafolios compuesto por 3 tipos de activos: Inmobiliario, Banca y Energía, y hemos asignado un porcentaje a cada uno dentro de nuestro portafolios:</p>
<p>Para la confección de nuestro portafolios diversificado de inversión, se consideró un peso de 50% para activos inmobiliarios porque son de bajo riesgo, ya que la adquisición de centros comerciales como los de Cencosud que opera de manera internacional, es uno de los segmentos más dinámicos, por lo que puede otorgar ganancias tanto a corto como largo plazo, lo que entrega una mayor producción de flujo de efectivo en comparación a otras inversiones inmobiliarias.</p>
<p>Otro de los principales beneficios de las inversiones en inmobiliaria son las protecciones contra la inflación, ya que al menos en Chile, los precios de este tipo de activo se determinan en UF en el caso de adquirir propiedades. Por otro lado, este tipo de inversión es menos riesgosa para obtener ingresos pasivos.</p>
<p>Además de esto, los rendimientos porcentuales específicamente de los activos de Cencosud, se han visto al alza en los últimos meses, lo que es un buen indicativo de que seguirá al alza los meses siguientes (rubro minorista en nuestro caso)</p>
<p>Para la energía se escogió Empresas Copec S.A, la cual hoy en día está formando parte de muchos proyectos sustentables tanto en Chile como en el extrangero. Se acordó que formará parte del portafolio con un 35%, esto debido a que pese a que la industria de la energía está en constante progreso, con el objetivo de generar métodos más sustentables para la producción y utilización de esta, aún está en constante desarrollo. Este trae consigo cierta incertidumbre en todos sus ámbitos sobre todo en las grandes inversiones que se realizan para hacer pruebas y testeos de los nuevos sistemas que se implementan. Pero pese a eso el mundo energético tiene una buena proyección a un mediano-largo plazo, donde se espera tener grandes avances para implementar energías renovables y sustentables que generen menores emisiones y tengan un aporte significativo en la sociedad.</p>
<p>El 15% de este portafolio está destinado al activo bancario, el cual es el fondo mutuo Bci USA. Este se caracteriza por ser parte del mercado accionario de Estados Unidos, se invierte en deuda y en capitalización, e invierte como mínimo el 60% de sus activos en acciones de empresas que operan en Estados Unidos. Es un fondo de gran diversificación y te permite invertir en el mercado internacional, pero la razón por la que le dimos un porcentaje tan bajo, es que tiene un perfil muy agresivo, lo que implica constantes fluctuaciones negativas y la posibilidad de ganancias en el largo plazo. Por lo que como grupo decidimos ser adversos al riesgo y centrarnos en opciones más seguras e innovadoras.&nbsp;</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>